# ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡
1. [æ¦‚è¦](#æ¦‚è¦)
2. [é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
3. [æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤](#æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤)
4. [ç’°å¢ƒå¤‰æ•°è¨­å®š](#ç’°å¢ƒå¤‰æ•°è¨­å®š)
5. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
6. [ç›£è¦–ãƒ»ãƒ­ã‚°](#ç›£è¦–ãƒ­ã‚°)
7. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ¯ æ¦‚è¦

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥
- **Streamlit Cloud**: ãƒ¡ã‚¤ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ
- **Supabase**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹
- **GitHub**: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç®¡ç†
- **ç’°å¢ƒåˆ†é›¢**: é–‹ç™ºãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»æœ¬ç•ªç’°å¢ƒ

### ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶
- **Python**: 3.13+
- **ãƒ¡ãƒ¢ãƒª**: æœ€ä½1GB RAM
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: æœ€ä½100MB
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: HTTPSå¯¾å¿œ

---

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-username/medical_exam_prep_app.git
cd medical_exam_prep_app

# ãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèª
git branch -a
```

### 2. Pythonç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Python 3.13+ã®ç¢ºèª
python --version

# uvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰
pip install uv

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync

# ä»®æƒ³ç’°å¢ƒã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
source .venv/bin/activate  # Linux/Mac
# ã¾ãŸã¯
.venv\Scripts\activate  # Windows
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
cp .env.example .env

# ç’°å¢ƒå¤‰æ•°ã®ç·¨é›†
nano .env
```

**.envãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹**:
```env
# Google AI API
GOOGLE_API_KEY=your-google-api-key

# Supabaseè¨­å®š
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
APP_ENV=development
DEBUG=true
LOG_LEVEL=DEBUG

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
SECRET_KEY=your-secret-key
ENCRYPTION_KEY=your-encryption-key
```

### 4. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
# Streamlitã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•
uv run streamlit run app.py

# ã¾ãŸã¯
streamlit run app.py
```

**ã‚¢ã‚¯ã‚»ã‚¹URL**: `http://localhost:8501`

### 5. é–‹ç™ºç”¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Supabase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g supabase

# Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
supabase init

# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®èµ·å‹•
supabase start

# ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨
supabase db reset
```

---

## ğŸš€ æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

### 1. Streamlit Cloudãƒ‡ãƒ—ãƒ­ã‚¤

#### GitHubã¨ã®é€£æº

1. **GitHubãƒªãƒã‚¸ãƒˆãƒªã®æº–å‚™**
```bash
# å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "Initial deployment"

# GitHubã«ãƒ—ãƒƒã‚·ãƒ¥
git push origin main
```

2. **Streamlit Cloudã§ã®è¨­å®š**

- [Streamlit Cloud](https://share.streamlit.io/)ã«ã‚¢ã‚¯ã‚»ã‚¹
- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
- ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
- ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šã‚’æ§‹æˆ

#### ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

**requirements.txt**:
```txt
streamlit>=1.46.0
supabase>=2.16.0
google-genai>=1.24.0
pandas>=2.3.0
plotly>=6.2.0
altair>=5.5.0
```

**.streamlit/config.toml**:
```toml
[server]
enableCORS = false
enableXsrfProtection = true
maxUploadSize = 200

[browser]
gatherUsageStats = false
```

### 2. Supabaseæœ¬ç•ªç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

1. [Supabase](https://supabase.com/)ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨

```sql
-- ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œ
-- docs/supabase_schema_setup.sql ã®å†…å®¹ã‚’å®Ÿè¡Œ

-- åˆæœŸãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
INSERT INTO practice_categories (category_name, display_name, icon, color, sort_order) VALUES
('exam_prep', 'æ¡ç”¨è©¦é¨“ç³»', 'ğŸ“„', '#667eea', 1),
('reading', 'è‹±èªèª­è§£ç³»', 'ğŸ“–', '#3b82f6', 2),
('writing', 'è¨˜è¿°ç³»', 'âœï¸', '#8b5cf6', 3),
('interview', 'é¢æ¥ç³»', 'ğŸ—£ï¸', '#f59e0b', 4),
('research', 'è«–æ–‡ç ”ç©¶ç³»', 'ğŸ”¬', '#22c55e', 5);
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

#### Streamlit Cloud Secrets

`.streamlit/secrets.toml`:
```toml
# Google AI API
GOOGLE_API_KEY = "your-google-api-key"

# Supabaseè¨­å®š
SUPABASE_URL = "https://your-project.supabase.co"
SUPABASE_ANON_KEY = "your-anon-key"

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
APP_ENV = "production"
DEBUG = false
LOG_LEVEL = "INFO"

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
SECRET_KEY = "your-production-secret-key"
ENCRYPTION_KEY = "your-production-encryption-key"
```

### 4. ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®š

1. **DNSè¨­å®š**
```bash
# CNAMEãƒ¬ã‚³ãƒ¼ãƒ‰ã®è¿½åŠ 
your-app.your-domain.com CNAME your-app.streamlit.app
```

2. **SSLè¨¼æ˜æ›¸ã®ç¢ºèª**
- Streamlit Cloudã§è‡ªå‹•çš„ã«SSLè¨¼æ˜æ›¸ãŒç™ºè¡Œã•ã‚Œã¾ã™
- ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å ´åˆã€è¿½åŠ è¨­å®šãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™

---

## âš™ï¸ ç’°å¢ƒå¤‰æ•°è¨­å®š

### å¿…é ˆç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | èª¬æ˜ | ä¾‹ |
|--------|------|-----|
| `GOOGLE_API_KEY` | Google AI APIã‚­ãƒ¼ | `AIzaSyC...` |
| `SUPABASE_URL` | Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURL | `https://xxx.supabase.co` |
| `SUPABASE_ANON_KEY` | SupabaseåŒ¿åã‚­ãƒ¼ | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` |

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
|--------|------|-------------|
| `APP_ENV` | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒ | `development` |
| `DEBUG` | ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ | `false` |
| `LOG_LEVEL` | ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« | `INFO` |
| `SECRET_KEY` | ã‚»ãƒƒã‚·ãƒ§ãƒ³æš—å·åŒ–ã‚­ãƒ¼ | è‡ªå‹•ç”Ÿæˆ |
| `ENCRYPTION_KEY` | ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–ã‚­ãƒ¼ | è‡ªå‹•ç”Ÿæˆ |

### ç’°å¢ƒå¤‰æ•°ã®æ¤œè¨¼

```python
import os
from typing import List

def validate_environment_variables() -> List[str]:
    """ç’°å¢ƒå¤‰æ•°ã®æ¤œè¨¼"""
    errors = []
    
    required_vars = [
        'GOOGLE_API_KEY',
        'SUPABASE_URL',
        'SUPABASE_ANON_KEY'
    ]
    
    for var in required_vars:
        if not os.getenv(var):
            errors.append(f"Missing required environment variable: {var}")
    
    return errors

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«æ¤œè¨¼
if __name__ == "__main__":
    errors = validate_environment_variables()
    if errors:
        print("Environment variable errors:")
        for error in errors:
            print(f"  - {error}")
        exit(1)
```

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–

```bash
# Supabase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g supabase

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
supabase init

# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®èµ·å‹•
supabase start
```

### 2. ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨

```sql
-- ãƒ¡ã‚¤ãƒ³ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨
-- docs/supabase_schema_setup.sql ã‚’å®Ÿè¡Œ

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä½œæˆ
CREATE INDEX idx_practice_sessions_user_history 
ON practice_sessions(user_id, created_at DESC, status) 
WHERE status = 'completed';

CREATE INDEX idx_practice_sessions_user_type_date 
ON practice_sessions(user_id, practice_type_id, created_at DESC)
WHERE status = 'completed';

-- RLSãƒãƒªã‚·ãƒ¼ã®è¨­å®š
ALTER TABLE practice_sessions ENABLE ROW LEVEL SECURITY;
CREATE POLICY user_own_sessions ON practice_sessions
    FOR ALL USING (user_id = auth.uid());
```

### 3. åˆæœŸãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥

```sql
-- ç·´ç¿’ã‚«ãƒ†ã‚´ãƒªã®æŠ•å…¥
INSERT INTO practice_categories (category_name, display_name, icon, color, sort_order) VALUES
('exam_prep', 'æ¡ç”¨è©¦é¨“ç³»', 'ğŸ“„', '#667eea', 1),
('reading', 'è‹±èªèª­è§£ç³»', 'ğŸ“–', '#3b82f6', 2),
('writing', 'è¨˜è¿°ç³»', 'âœï¸', '#8b5cf6', 3),
('interview', 'é¢æ¥ç³»', 'ğŸ—£ï¸', '#f59e0b', 4),
('research', 'è«–æ–‡ç ”ç©¶ç³»', 'ğŸ”¬', '#22c55e', 5);

-- ç·´ç¿’ã‚¿ã‚¤ãƒ—ã®æŠ•å…¥
INSERT INTO practice_types (category_id, type_name, display_name, description, input_schema, score_schema, sort_order) VALUES
(1, 'standard_exam', 'æ¨™æº–æ¡ç”¨è©¦é¨“', 'åŒ»å­¦è«–æ–‡ã®Abstractèª­è§£ã€æ—¥æœ¬èªè¨³ã€æ„è¦‹é™³è¿°', 
 '{"fields": ["original_paper", "translation", "opinion"]}',
 '{"categories": ["ç¿»è¨³è©•ä¾¡", "æ„è¦‹è©•ä¾¡", "ç·åˆè©•ä¾¡"]}', 1),
(3, 'free_writing', 'è‡ªç”±è¨˜è¿°', 'åŒ»å­¦çš„ãªãƒ†ãƒ¼ãƒã«ã¤ã„ã¦è‡ªç”±ã«è¨˜è¿°', 
 '{"fields": ["theme", "question", "answer"]}',
 '{"categories": ["è‡¨åºŠçš„æ­£ç¢ºæ€§", "å®Ÿè·µçš„æ€è€ƒ", "åŒ…æ‹¬æ€§", "è«–ç†æ§‹æˆ"]}', 1);
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ

```python
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
def test_database_connection():
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’ãƒ†ã‚¹ãƒˆ"""
    try:
        from modules.database_v2 import DatabaseManagerV2
        
        db_manager = DatabaseManagerV2()
        
        if not db_manager.is_available():
            print("âŒ Database connection failed")
            return False
        
        # ç·´ç¿’ã‚¿ã‚¤ãƒ—ã®å–å¾—ãƒ†ã‚¹ãƒˆ
        practice_types = db_manager.get_practice_types()
        if not practice_types:
            print("âŒ No practice types found")
            return False
        
        print(f"âœ… Database connection successful. Found {len(practice_types)} practice types")
        return True
        
    except Exception as e:
        print(f"âŒ Database test failed: {e}")
        return False

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
if __name__ == "__main__":
    test_database_connection()
```

---

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°

```python
import logging
from datetime import datetime

# ãƒ­ã‚°è¨­å®š
def setup_logging():
    """ãƒ­ã‚°è¨­å®šã®åˆæœŸåŒ–"""
    logging.basicConfig(
        level=logging.INFO,
        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        handlers=[
            logging.FileHandler('app.log'),
            logging.StreamHandler()
        ]
    )

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«è¨­å®š
setup_logging()
logger = logging.getLogger(__name__)
```

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

```python
import time
from functools import wraps

def performance_monitor(func):
    """ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        try:
            result = func(*args, **kwargs)
            execution_time = time.time() - start_time
            logger.info(f"{func.__name__} executed in {execution_time:.2f} seconds")
            return result
        except Exception as e:
            execution_time = time.time() - start_time
            logger.error(f"{func.__name__} failed after {execution_time:.2f} seconds: {e}")
            raise
    return wrapper

# ä½¿ç”¨ä¾‹
@performance_monitor
def save_practice_session(session_data):
    # ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜å‡¦ç†
    pass
```

### 3. ã‚¨ãƒ©ãƒ¼ç›£è¦–

```python
import traceback
from datetime import datetime

def log_error(error: Exception, context: str = ""):
    """ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°ã«è¨˜éŒ²"""
    error_info = {
        'timestamp': datetime.now().isoformat(),
        'error_type': type(error).__name__,
        'error_message': str(error),
        'traceback': traceback.format_exc(),
        'context': context
    }
    
    logger.error(f"Application error: {error_info}")
    
    # æœ¬ç•ªç’°å¢ƒã§ã¯å¤–éƒ¨ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    if os.getenv('APP_ENV') == 'production':
        send_error_to_monitoring_service(error_info)
```

### 4. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```python
def health_check():
    """ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯"""
    health_status = {
        'status': 'healthy',
        'timestamp': datetime.now().isoformat(),
        'checks': {}
    }
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒã‚§ãƒƒã‚¯
    try:
        db_manager = DatabaseManagerV2()
        health_status['checks']['database'] = db_manager.is_available()
    except Exception as e:
        health_status['checks']['database'] = False
        health_status['status'] = 'unhealthy'
    
    # APIæ¥ç¶šãƒã‚§ãƒƒã‚¯
    try:
        # Google AI APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
        health_status['checks']['google_api'] = True
    except Exception as e:
        health_status['checks']['google_api'] = False
        health_status['status'] = 'unhealthy'
    
    return health_status
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `ConnectionError` ã¾ãŸã¯ `Database not available`

**è§£æ±ºæ–¹æ³•**:
```bash
# ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
echo $SUPABASE_URL
echo $SUPABASE_ANON_KEY

# Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¢ºèª
# Supabase Dashboard â†’ Settings â†’ API ã§èªè¨¼æƒ…å ±ã‚’ç¢ºèª
```

#### 2. Google AI APIã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `APIError` ã¾ãŸã¯ `Invalid API key`

**è§£æ±ºæ–¹æ³•**:
```bash
# APIã‚­ãƒ¼ã®ç¢ºèª
echo $GOOGLE_API_KEY

# Google AI Studioã§APIã‚­ãƒ¼ã‚’å†ç”Ÿæˆ
# https://aistudio.google.com/app/apikey
```

#### 3. Streamlit Cloudãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå¤±æ•—ã™ã‚‹

**è§£æ±ºæ–¹æ³•**:
```bash
# requirements.txtã®ç¢ºèª
cat requirements.txt

# ä¾å­˜é–¢ä¿‚ã®æ›´æ–°
uv sync

# ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å‹•ä½œç¢ºèª
streamlit run app.py
```

#### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ

**ç—‡çŠ¶**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒé…ã„

**è§£æ±ºæ–¹æ³•**:
```python
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã®æœ€é©åŒ–
# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèª
SELECT schemaname, tablename, indexname, idx_scan, idx_tup_read
FROM pg_stat_user_indexes
ORDER BY idx_scan DESC;

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨
# ç·´ç¿’ã‚¿ã‚¤ãƒ—æƒ…å ±ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–

```python
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®š
import streamlit as st

if st.secrets.get('DEBUG', False):
    st.set_option('deprecation.showPyplotGlobalUse', False)
    st.set_option('deprecation.showfileUploaderEncoding', False)
    
    # ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®è¡¨ç¤º
    st.sidebar.markdown("## Debug Info")
    st.sidebar.json({
        'database_available': DatabaseManagerV2().is_available(),
        'google_api_configured': bool(st.secrets.get('GOOGLE_API_KEY')),
        'supabase_configured': bool(st.secrets.get('SUPABASE_URL'))
    })
```

### ãƒ­ã‚°ã®ç¢ºèª

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã®ç¢ºèª
tail -f app.log

# Streamlit Cloudãƒ­ã‚°ã®ç¢ºèª
# Streamlit Cloud Dashboard â†’ App â†’ Logs
```

---

## ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### äº‹å‰æº–å‚™
- [ ] ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æœ€çµ‚ç¢ºèª
- [ ] ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨
- [ ] ä¾å­˜é–¢ä¿‚ã®ç¢ºèª

### ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
- [ ] GitHubã¸ã®ãƒ—ãƒƒã‚·ãƒ¥
- [ ] Streamlit Cloudã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
- [ ] ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œç¢ºèª
- [ ] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œç¢ºèª
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
- [ ] APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
- [ ] ãƒ­ã‚°ã®ç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### æœ¬ç•ªç’°å¢ƒè¨­å®š
- [ ] SSLè¨¼æ˜æ›¸ã®ç¢ºèª
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ã®è¨­å®š
- [ ] ç›£è¦–ã®è¨­å®š
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®è¨­å®š

---

**æœ€çµ‚æ›´æ–°**: 2024å¹´12æœˆ
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ä½œæˆè€…**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒãƒ¼ãƒ  