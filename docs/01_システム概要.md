# 医学部研修医採用試験対策アプリ - システム概要

## 🎯 プロジェクト概要

### 目的
医学部研修医の採用試験対策を総合的に支援するAI駆動の学習プラットフォームです。採用試験、小論文、面接、自由記述、英語読解の5つの主要分野において、パーソナライズされたフィードバックと学習管理を提供します。

### 対象ユーザー
- 医学部研修医採用試験受験者
- 医学部学生（早期対策）
- 医学教育関係者

## 🌟 主要機能

### 1. 採用試験対策
- **論文読解**: 医学論文のAbstract翻訳・意見陳述
- **時間制限**: 60分の本格的な時間制限
- **包括的採点**: 翻訳評価、意見評価、総合評価
- **過去問対応**: 実際の採用試験形式に準拠

### 2. 小論文対策
- **段階的執筆**: 構成メモ→清書の2段階プロセス
- **論理的思考**: 構成力と論理的思考力の向上
- **1000字対応**: 実際の試験形式に合わせた文字数
- **AI評価**: 論理構成、表現力、内容充実度の評価

### 3. 面接対策
- **AI面接官**: 実践的な質問とリアルタイム対話
- **音声認識**: 音声入力による自然な対話
- **多角的評価**: 回答内容、表現力、論理性の評価
- **セッション練習**: 連続した質問による総合練習

### 4. 自由記述対策
- **75テーマ収録**: 循環器、内分泌、血液、呼吸器、消化器、外科、整形、産婦人科、小児、救急、麻酔
- **8つの問題形式**: 基本知識型、患者説明型、臨床評価型、鑑別診断型など
- **重複回避**: 類似テーマの自動判定と回避
- **履歴追跡**: テーマ別学習履歴とスコア推移

### 5. 英語読解対策
- **最新医学論文**: 最新の医学論文Abstract使用
- **専門用語習得**: 医学英語の専門用語学習
- **翻訳練習**: 日本語訳と意見・考察
- **過去問スタイル**: 実際の試験形式対応

### 6. 学習管理機能
- **履歴管理**: 全練習の詳細履歴保存
- **統計分析**: スコア推移、弱点分析
- **目標設定**: 個人学習目標の設定と追跡
- **成果システム**: バッジ・成果によるモチベーション

## 🏗️ 技術アーキテクチャ

### フロントエンド
- **Streamlit**: メインUIフレームワーク
- **Altair/Plotly**: データ可視化
- **Responsive Design**: マルチデバイス対応
- **リアルタイム更新**: セッション状態の動的更新

### バックエンド
- **Python 3.13+**: メイン開発言語
- **Google AI (Gemini)**: AI評価・フィードバック
- **Supabase**: データベース・認証
- **PostgreSQL**: リレーショナルデータベース

### データベース設計
- **正規化されたスキーマ**: 9つの主要テーブル
- **ユーザー管理**: 認証・プロフィール・設定
- **練習履歴**: セッション・入力・スコア・フィードバック
- **分析機能**: 統計・トレンド・成果管理

## 📊 データベーススキーマ

### 主要テーブル
1. **users**: ユーザー情報・認証
2. **practice_categories**: 練習カテゴリ
3. **practice_types**: 練習タイプ
4. **practice_sessions**: 練習セッション
5. **practice_inputs**: 練習入力データ
6. **practice_scores**: 練習スコア
7. **practice_feedback**: AIフィードバック

### 拡張テーブル
- **user_analytics**: 事前計算済み統計
- **practice_themes**: 自由記述テーマ
- **user_achievements**: 成果・バッジ
- **user_activity_log**: アクティビティログ

## 🔐 セキュリティ設計

### 認証・認可
- **パスワード認証**: PBKDF2ハッシュ化
- **セッション管理**: 安全なセッション追跡
- **Row Level Security**: ユーザーデータ分離
- **アカウントロック**: 不正アクセス防止

### データ保護
- **暗号化**: 機密データの暗号化
- **バックアップ**: 自動バックアップ機能
- **監査ログ**: アクティビティ追跡
- **データマスキング**: 個人情報保護

## 🚀 デプロイメント

### 開発環境
- **ローカル開発**: `uv run streamlit run app.py`
- **依存関係管理**: `uv`による高速パッケージ管理
- **環境変数**: `.env`ファイルまたはStreamlit secrets

### 本番環境
- **Streamlit Cloud**: メインアプリケーション
- **Supabase**: データベース・認証
- **Google AI**: AI機能提供
- **CDN**: 静的リソース配信

### 監視・ログ
- **アプリケーションログ**: Streamlit Cloud統合
- **データベース監視**: Supabaseダッシュボード
- **エラー追跡**: 自動エラー通知
- **パフォーマンス監視**: レスポンス時間追跡

## 📈 パフォーマンス最適化

### データベース最適化
- **インデックス戦略**: 15個の最適化インデックス
- **クエリ最適化**: 複合インデックス+部分インデックス
- **接続プール**: 効率的なDB接続管理
- **キャッシュ戦略**: 頻繁にアクセスされるデータのキャッシュ

### アプリケーション最適化
- **非同期処理**: 重い処理の非同期実行
- **バッチ処理**: 大量データの効率的処理
- **メモリ管理**: 効率的なメモリ使用
- **レスポンス最適化**: ページ読み込み時間の短縮

## 🔄 開発・保守ワークフロー

### 開発プロセス
1. **要件定義**: 機能要件の詳細化
2. **設計**: データベース・UI設計
3. **実装**: モジュール別開発
4. **テスト**: 単体・統合テスト
5. **デプロイ**: 段階的デプロイ

### 品質管理
- **コードレビュー**: プルリクエストベース
- **自動テスト**: CI/CDパイプライン
- **ドキュメント**: 継続的ドキュメント更新
- **セキュリティ監査**: 定期的なセキュリティチェック

### 保守・運用
- **バグ修正**: 迅速な問題解決
- **機能追加**: ユーザーフィードバック反映
- **パフォーマンス改善**: 継続的パフォーマンス最適化
- **セキュリティ更新**: 定期的なセキュリティパッチ

## 🎯 今後の展開

### 短期目標（3ヶ月）
- **モバイル最適化**: スマートフォン対応の強化
- **オフライン機能**: インターネット接続不要時の基本機能
- **音声機能拡張**: より自然な音声対話
- **パーソナライゼーション**: AIによる学習内容の最適化

### 中期目標（6ヶ月）
- **多言語対応**: 英語版の提供
- **API公開**: 外部システムとの連携
- **高度な分析**: 機械学習による学習パターン分析
- **コミュニティ機能**: ユーザー間の学習支援

### 長期目標（1年）
- **VR/AR対応**: 没入型学習体験
- **AI講師**: より高度なAI指導機能
- **企業向け**: 病院・医療機関向けライセンス
- **国際展開**: 海外の医学教育市場への展開

## 📞 サポート・連絡先

### 技術サポート
- **GitHub Issues**: バグ報告・機能要望
- **ドキュメント**: 詳細な使用方法
- **FAQ**: よくある質問と回答

### 開発チーム
- **プロジェクト管理**: GitHub Projects
- **コード管理**: Git/GitHub
- **ドキュメント**: Markdown形式
- **コミュニケーション**: GitHub Discussions

---

*このドキュメントは継続的に更新されます。最新版はGitHubリポジトリで確認してください。*